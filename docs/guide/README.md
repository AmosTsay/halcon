---
title: 介绍
meta:
  - name: description
    content: 一种基于halcon的光栅投影的三维重构的研究
  - name: keywords
    content: halcon 光栅投影 三维重构
---
## 总体思路

- 1.首先对基本的三维检测技术有个基本的了解
- 2.对halcon进行理解和基本运用
- 3.重点对基于光栅投影的相位轮廓术的深入学习和理解应用

## 三维检测技术方法的概述

三维检测技术主要分为**接触式检测**和**非接触检测**两大类[4]。

图：1-1三维检测方法概况图

接触式检测方法需要和被测物体表面接触，但是在被测物体表面较为不规律的情况下，很难进行准确的检测，不仅限制了检测的场景且不能检测柔软的物体，同时还存在容易对待测物体造成损失、大型物体检测的速度较慢、设备成本昂贵等缺点，在精度和速度上渐渐被淘汰了。
非接触式检测技术不再与物体表面接触，需要用到的媒介是光。而非接触式检测技术主要用到的方式是光学三维检测技术。光学三维检测技术特点主要是通过光线照射到物体表面，然后通过漫反射和反射得到物体的表面信息的三维空间坐标点。光学三维检测技术根据是否主动提供光可以区分为两大类：主动和被动式。
### 立体视觉法（Stereoscopic vision method）
立体视觉法（Stereoscopic vision method）是属于主动式三维检测方式的一种具有代表性的方法，其原理是通过拍摄多帧不同视角的图片，然后通过相应的算法去处理并合成物体三维信息。它的优点是对相机硬件设备等要求低，成本也很低，且由于直接根据环境光去采集图像，所以室内、室外都能可以适用。与之而来的缺点也很明显，因为十分依赖环境中的自然光线去采集图像，一旦受到光照角度发生变化、光照强度发生变化等环境因素的影响，拍摄出的两张图片亮度信息差别十分大，这会对匹配算法造成很大的挑战。并且受到了相机的基线限制，从而限制了测量范围，在一定程度上也限制了该深度相机的深度信息的采集。
### 飞行时间法（Time of flight）
飞行时间法（Time of flight）的原理是使用发射器给发送激光到被测物体表面，在接收端采集从被测物体表面返回的光，最后计算激光的飞行时间来得到被测物体的距离信息。Time of flight的优点是能够快速的对目标物体的识别与追踪，利用此特点在手机的前置摄像头中可以使用这个模块进行人脸识别。而且它的配件成本相对低廉，借助于CMOS的特性，对复杂物体的姿态判断极为有效。它的缺点是受到了硬件发展的限制，更新换代速度较快，且测量的距离受限，一般只能10米以内，容易受到环境光线的干扰。
### 莫尔条纹法（Moire fringe method）
莫尔条纹（Moire fringe）是在一个固定的角度和频率下，两条线发生干涉时产生的。莫尔条纹法将主光栅和基准光栅两组光栅投影到待测物体表面，通过对比基准光栅和主光栅之间的条纹[1]，然后通过计算机去处理条纹信息并得到物体表面的三维信息。莫尔条纹法的优点是系统整体运行时间较短且最终的精度很高。它的缺点是这种方法要与待测物体距离较小，因而莫尔条纹法只能适用在物体体积较小的检测上。
### 傅里叶变换轮廓术（Fourier transform profilometry）
傅里叶变换轮廓术(Fourier transform profilometry)使用周期性模式中的失真来测量物体的轮廓信息，该方法使用傅里叶分析去判断出曲折表面上的局部坡度。Fourier transform profilometry的突出优势是在检测过程中仅仅只需要投影一帧图片，即可以计算出物体表面的高度分布信息。FTP的优点是测量速度快、设备简单。而与之同时带来的问题是由于FTP的算法复杂，计算量大，由于混入的混频等因素会引起的误差，检测的精度有待提高。
### 相位轮廓术（Phase measurement profilometry）
相位轮廓术(Phase measurement profilometry)的原理是通过计算3张以上背景的连续相位与物体的连续相位之间的差值，然后通过测量的数据再计算出物体的高度信息。该方法在是通过计算每一个点的光强信息再去转化为相位信息，因此不会受到背景光的影响，而Phase measurement profilometry的算法中采用的是减法运算，计算的难度很低，运算的速度很快。

## halcon的简介
### 基本介绍
HALCON有强大的算子，并且有非常丰富的生态圈。HALCON让开发者可以开发出更少代码的程序，但是功能可以更为强大。HALCON包含了多达1400个图像处理算子，其中包括了数学与几何变换、滤波、形态学计算和色彩分析、分类、辨识、校正、形状搜索等等基本的几何图像计算功能[2]，它非常容易入门且功能又十分强大，在图像处理上大大缩短了运行时间。
### halcon的功能特点
HALCON包含了方便用户使用的集成开发工具HDevelop，可以在上面的程序窗口编写程序并且运行和调试程序。
Halcon支持将代码导出成c，c++，c#，使用者可以将其导入其他的项目中，形成一个独立的程序，完全是兼容的。
Halcon可以连接的设备多达50多种，只要使用一行代码open_framegrabber，给予相应的参数，就可以打开相机获取图像，使用起来十分便捷高效。如果你的设备不在支持的列表中，你还可以利用专用界面连接，这个界面是开放的，只需要配合一些程序代码，就可以轻松和halcon连接。
1.3.3 halcon的基本用法
本实验使用的是HALCON HDevelop 18.11 的Steady版本，License是大恒图像（正版）授权的，它提供了Halcon所有的图像处理功能。
（1）主菜单简单说明

表：1-1 主菜单
文件（F）	打开新程序等
编辑（E）	编辑HDevelop的程序
执行（X）	执行HDevelop的程序
可视化（V）	自定义图像窗口外观
函数（P）	打开函数功能视图
算子（O）	打开所有算子视图
建议（S）	提供一些算子的建议
助手（A）	打开助手功能
窗口（W）	新建窗口
帮助（H）	打开帮助文档
（2）图形窗口
用于给用户显示图像的窗口，支持鼠标拖拽缩放和提供一系列工具进行对图像进行编辑。
（3）程序窗口
此窗口是用来显示halcon程序代码的窗口，可以显示整个程序或者是一个算子。
（4）变量窗口
此窗口显示的是在程序中定义的变量信息，图像变量会以略缩图的形式显示，数值型的变量则以文本形式显示。
## 课题研究的主要内容
本文以halcon快速标定和相移法为基石，重点研究了基于halcon光栅投影的快速三维检测系统。针对检测的精度与速度需求，本文采用的基于halcon的快速标定加上相位轮廓术配合光栅投影，通过matlab计算相移，检测精度高，且检测速度较快。本文的主要内容如下：
第一章概述了三维检测的研究背景及意义、Halcon的简介和光学三维检测的方向，简单明了的阐述了常用的几种检测原理的优缺点。
第二章从光栅的生成、相移术的原理到解包裹原理，详细的介绍了基于光栅投影的相位轮廓术的原理。
第三章从相机的坐标系原理和针孔模型以及相机的畸变原因等原因到使用halcon进行相机标定的过程和原因，详细的讲述了基于halcon的快速相机标定的原理。
第四章概况了基于halcon的光栅投影快速三维检测系统的搭建，详细地讲述了狐狸面具的三维检测过程和误差分析。
第五章总结了本次实验的研究内容和结果，并且指出了一些不足之处。证实了使用halcon进行标定结合光栅投影的三维检测方法的可行性和有效性。


### Badge <Badge text="beta" type="warn"/> <Badge text="0.10.1+"/>

### 后续更新